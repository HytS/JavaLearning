### osi七层模型
应用、表示、会话、传输、网络、数字链路、物理
每一层都专注做一件事，并且每一次都需要使用下一层提供的功能

### tcp四层模型
应用、传输、网络、网络接口层

### 为什么网络要分层
复杂的系统需要分层，因为每一层都要专注一类事情

各层之间相互独立：只需要直到自己如何调用下层提供好的功能就可以了
提高了灵活性和可替换性：每一层都需要最合适的技术来实现，你只需要保证提供的功能和暴露的接口的规则没有改变就行了，并且每一层可以根据需要进行修改或替换，而不会影响到整个网络的结构
大问题化小

### 常见的网络协议
http 超文本传输协议 主要用于web浏览器和web服务器的通信
smtp 简单邮件发送协议 只负责邮件的发送，而不是接收
pop3/imap 邮件接收协议 两者都是负责邮件接收的协议，imap比pop3性能更好
ftp 文件传输协议 用于在计算机之间传输文件的协议，ftp是不安全协议，在传输过程中不会对数据加密，传输敏感数据用sftp
telent 远程登陆协议 用于通过一个终端登陆到其他服务器，缺点是所有数据均已明文传输
ssh 安全的网络传输协议 通过加密和认证机制实现安全的访问和文件传输等业务
rtp 实时传输协议 提供了端到端的实时传输数据的功能
dns 域名管理系统 用于解决域名和ip地址的映射问题

### 传输层常见的协议
tcp 传输控制协议 提供面向连接、可靠的服务
udp 用户数据协议 提供无连接、尽最大努力的数据传输服务（不保证数据传输的可靠性）

### 网络层有哪些常见的协议
ip 网际协议 属于网络层的协议，作用：定义数据包的格式，对数据包进行路由和寻址，以便它们可以跨网络传播并达到正确的目的地，
arp 地址解析协议 解决的是网络层和数据链路层之间的转换问题，因为一个ip数据报在物理上传输的过程中，总需要知道物理上的下一个地址，但ip地址属于逻辑地址，而mac地址才是物理地址，arp解决了ip地址转mac地址的一些问题
icmp 互联网控制报文协议 一种用于传输网络状态和错误消息的协议
nat 网络地址转换协议 在一个小的子网（LAN）内，各主机使用的是同一个LAN的ip地址，在该LAN外，在WAN中，需要一个同一的ip地址来标识该LAN在internet上的地址
ospf 开放式最短路径优先 基于链路状态算法，考虑了链路带宽、延迟等因素来选择路径
rip 路由信息协议 基于距离向量算法，使用固定的跳数作为度量标准，选择跳数最少的路径作为最佳路径。
bgp 边界网关协议 一种用来在路由选择域之间交换网络层可达性信息的路由选择协议

### 从输入url到页面展示发生了什么
1、浏览器查找域名的ip地址（dns查找过程：浏览器缓存、路由器缓存、dns缓存）
    dns：获取域名对应ip
2、浏览器向web服务器发送一个http请求（cookies会随着请求发送给服务器）
3、服务器处理请求（请求处理请求&它的参数、cookies、生成一个html响应）
4、服务器发回一个html响应
5、浏览器开始显示html
    tcp：与服务器建立tcp连接；ip：建立tcp连接，需要发送数据，发送数据在网络层使用ip协议；ospf：IP数据包在路由器之间，路由选择ospf协议；arp：路由器与服务器通信时，需要将ip转换为mac地址，需要使用arp协议
    http：在tcp建立完成后，使用http协议访问网页
dns解析--tcp连接--发送http请求--服务器处理请求并返回http报文--浏览器解析渲染画面--连接结束

### http状态码
1xx 信息性状态码        接受的请求正在处理
2xx 成功状态码          请求正常处理完毕
3xx 重定向状态码        需要进行附加操作以完成请求
4xx 客户端错误状态码    服务器无法处理请求
5xx 服务器错误状态码    服务器处理请求出错

### http和https区别
端口号 http 默认80 https 默认443
安全性和资源消耗：http协议运行在tcp之上，所有传输的内容都是明文，客户端和服务器无法检验对方的身份，https时运行在ssl/tls之上的http协议，ssl/tls运行在tcp之上。所有的传输内容都经过加密，加密采取对称加密，但对称加密的密钥用服务器放的证书进行非对称加密，即http安全性没有https高，但https比http耗费更多服务器资源
seo（搜索引擎优化）：搜索引擎通常更青睐使用https协议的网站，因为https能提供更高的安全性和用户隐私保护，使用https协议的网站在搜索结果中可能会被优先显示

### http/1.0和http/1.1有什么区别
连接方式 http/1.0短连接 http/1.1长连接
状态响应码 http/1.1中新加入了大量的状态码
缓存机制：在http/1.0中主要使用header里的 If-Modified-Since,Expires 来做为缓存判断的标准，HTTP/1.1 则引入了更多的缓存控制策略例如 Entity tag，If-Unmodified-Since, If-Match, If-None-Match 等更多可供选择的缓存头来控制缓存策略。
带宽：HTTP/1.0 中，存在一些浪费带宽的现象，例如客户端只是需要某个对象的一部分，而服务器却将整个对象送过来了，并且不支持断点续传功能，HTTP/1.1 则在请求头引入了 range 头域，它允许只请求资源的某个部分，即返回码是 206（Partial Content），这样就方便了开发者自由的选择以便于充分利用带宽和连接。
Host 头（Host Header）处理 :HTTP/1.1 引入了 Host 头字段，允许在同一 IP 地址上托管多个域名，从而支持虚拟主机的功能。而 HTTP/1.0 没有 Host 头字段，无法实现虚拟主机。

### http/1.1和http/2.0有什么区别
多路复用：http/2.0在同一连接上可以同时传输多个请求和响应，互不干扰。http/1.1则使用串行方式，每个请求和响应都需要独立的连接，而浏览器为了控制资源会由6-8各tcp连接都限制，这使得http/2.0在处理多个请求时更高效
二进制帧：http/2.0使用二进制帧进行数据传输，而http/1.1则使用文本格式的报文，二进制帧更加紧凑和高效
头部压缩：http/1.1支持body压缩，header不支持压缩。http/2.0支持header压缩，使用了专门为header压缩而设计的hpack算法，减少了网络开销
服务器推送：http/2.0支持服务器推送，可以在客户端请求一个资源时，将其他资源一并推送给客户端，从而减少客户端的请求次数和延迟；而http/1.1需要客户端自己发送请求获取资源

http/2.0的多路复用使得不同请求可以共用一个tcp连接，避免建立多个连接带来不必要的额外开销，而http/1.1中的每个请求都会建立一个单独的连接

### http/2.0和http/3.0有什么区别
传输协议：http/2.0是基于tcp协议实现的，http/3.0新增了quic协议实现可靠传输，提供与tls/ssl相当的安全性，可以将quic看做udp的升级版，
连接建立：http/2.0需要经过经典的tcp三次握手（由于安全的https连接建立需要tls握手共需要大约3个rtt）；quic在最佳情况下 不需要任何往返时间就可以建立新连接
队头阻塞：http/2.0多请求复用一个tcp连接，一旦发生丢包，就会阻塞住所有的http请求，http/3.0在一定程度上解决了队头阻塞问题，一个连接建立多个不同的数据流，这些数据流之间独立互不影响，某个数据流发生丢包，其他数据流不受影响
错误恢复：http/3.0有更好的错误恢复机制。http/2.0更需要依赖tcp的错误恢复机制
安全性：http/2.0和http/3.0在安全性上有较高要求，支持加密通信，但实现不同；http/2.0使用tls加密，http/3.0基于quic协议，包含了内置的加密和身份验证机制；

### 